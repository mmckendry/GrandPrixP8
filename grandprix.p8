pico-8 cartridge // http://www.pico-8.com
version 41
__lua__

 function _init()
  screenwidth=127
  screenheight=127
  make_entities()
  scene=0
  timer=0
  player_speed=0
  opponent_speed=0
  delay=0
  shake=0
  flag=0
  display=false
  is_pitstop=false
  in_pitlane=false
  is_generated=false
  first=true
  textdelay=0
  init_leaderboard()
 end
 
 function _update()
  clearmessage()
  if(scene==0) then
   title_update()
  elseif (scene==1) then
   move_player()
   if (player["fuel"]!=0) then 
    if (not in_pitlane) then
      if(flag == 8) then -- and if player 
      if(is_pitstop==true) then
        in_pitlane=true
        player[2]["cx"]=53
        player[2]["cy"]=38
        player[1]["lx"]=55
        player[1]["lx"]=38
        in_pitlane=false
        is_pitstop=false 
        --implement half speed in the pits
      end
    end

    calculate_player_speed(0.20, pathfinding, player, p)
    calculate_opponent_speed(0.90, pathfinding, opponent, o)
    
    end
   end
  elseif(scene==2) then
   finish_update()
  elseif(scene==3) then
   pitstop_update()
  end
  
  
  local nx,ny=player[2]["cx"],player[2]["cy"]
  
  if (nx!=player[2]["cx"] or ny!=player[2]["cy"]) then
    if (can_move(nx,ny)) then
     player[2]["cx"]=nx
     player[2]["cy"]=ny 
    end
  end
  
 end
 
 function _draw()
  cls()
  if(scene==0) then
   title_draw()
  elseif(scene==1) then
   camera_follow()
   drawtrack()
   draw_player()
   draw_opponent()
   update_fuel()
   display_fuel()
   metrics()
   out_of_fuel()
   display_textwindow()
  elseif(scene==2) then 
   finish_draw()
  elseif(scene==3) then
   pitstop_draw()
  end
end

function draw_player()
  palt(4,true)
  palt(0,false)
  anim_player(p)
  spr(p.drive[p.d][p.f],player[2]["cx"]*8,player[2]["cy"]*8,2,2)
end

function draw_opponent()
 anim_player(o)
 spr(o.drive[o.d][o.f],opponent[2]["cx"]*8,opponent[2]["cy"]*8,2,2)
end
-->8
--utility functions
c={}
c.x=0
c.y=0
--camera follows the player
function camera_follow()
 c.x=player[2]["cx"]-10
 c.y=player[2]["cy"]-10

 c.x=mid(0,c.x,128)
 c.y=mid(0,c.y,128)

 camera(c.x*8,c.y*8)
end

function camera_shake()
 local shakex=16-rnd(32)
 local shakey=16-rnd(32)
 shakex*=shake
 shakey*=shake
 
 camera(shakex,shakey)
 shake = shake*0.95

 if (shake<0.05) then 
  shake=0
 end
end

--collision detection
function can_move(x,y, car)
 local map_sprite=mget(x,y)
 flag=fget(map_sprite)

 if(flag == 2) then
  if(player.lap>=4) then 
   scene=2
  end
  car.lap+=1
 end

 return flag!=1
end

--update fuel
function update_fuel() -- needs a better implementation
 if(delay<60) then 
  delay+=1
 end
 if(delay>=60) then
  delay=0
  if (player.fuel!=0) then
   player["fuel"]-=1
  end
 end
end

function deplay_in_seconds(time_value, method, arg1)
  local seconds = time_value * 30
    if (delay >= seconds) then
      delay = 0
      method(arg1)
    end
  delay += 1
end

function calculate_player_speed(time_value, method, arg1, arg2)
  local seconds = time_value * 30
    if (player_speed >= seconds) then
      player_speed = 0
      method(arg1, arg2)
    end
  player_speed += 1
end

function calculate_opponent_speed(time_value, method, arg1, arg2)
  local seconds = time_value * 30
    if (opponent_speed >= seconds) then
      opponent_speed = 0
      method(arg1, arg2)
    end
  opponent_speed += 1
end


--pathfinding for the player
function pathfinding(car,direction)
-- printh("Pathfinding: " ..car["name"], "picolog.txt", false, true)


 local up={}
 local down={}
 local left={}
 local right={}
 local neighbours={}
 local candidates={}
 local next_step={}

 car[3]["nx"]=car[2]["cx"] 
 car[3]["ny"]=car[2]["cy"]
 if(first)then 
  car[1]["lx"]-=1 
  car[1]["ly"]=car[2]["cy"]
  first=false
 end

function set_neighbours()
  left[1]=car[3]["nx"] - 1
  left[2]=car[3]["ny"]
  right[1]=car[3]["nx"] + 1
  right[2]=car[3]["ny"]
  up[1]=car[3]["nx"]
  up[2]=car[3]["ny"] + 1
  down[1]=car[3]["nx"]
  down[2]=car[3]["ny"] - 1
  neighbours={left,right,up,down}
 end
 
 set_neighbours()
 
  for k, v in ipairs(neighbours) do
   for j, m in ipairs(v) do
     candidates[j]=m
   end
   if (candidates[1]!=car[1]["lx"] or candidates[2]!=car[1]["ly"]) then
    -- sfx(0) 
     if(can_move(candidates[1],candidates[2],car)) then
      next_step[1]=candidates[1]
      next_step[2]=candidates[2]
      car["moves"]=car["moves"]+1
     end
   end
  end
  
 car[1]["lx"]=car[2]["cx"]
 car[1]["ly"]=car[2]["cy"]

 car[2]["cx"]=next_step[1]
 car[2]["cy"]=next_step[2]
 
 local lx,ly=car[1]["lx"],car[1]["ly"]
 local cx,cy=car[2]["cx"],car[2]["cy"]

 local map_sprite=mget(cx,cy)
 flag=fget(map_sprite)

 printh("FLAG: " ..flag, "picolog.txt", false, true)
 if(flag == 8) then 
  printh("Triggered: " ..flag, "picolog.txt", false, true)
  if(is_pitstop == true) then
    printh("Is Pitstop", "picolog.txt", false, true)
    is_pitstop=false  
    scene=0
    make_entities()
    camera()
  end
end

 set_direction(lx,ly,cx,cy,direction)
 sortleaderboard(leaderboard)

end

function anim_player(car)
  car.t=(car.t+1)%car.spd
  if (car.t==0) car.f=car.f%#car.drive[car.d]+1
end
 
function set_direction(lx,ly,cx,cy,direction)
  if(lx > cx) then 
  direction.d=0
 end
 if(lx < cx) then 
  direction.d=1 
 end 
 if(ly > cy) then 
  direction.d=2
 end
  if(ly < cy) then 
  direction.d=3
 end
end
-->8
--display 
function metrics()
  local x=c.x*8
  local y=c.y*8
  rectfill(x+2,y+42,x+54,y+2,8)
  rectfill(x,y+40,x+52,y+0,9)
  display_leaderboard(x, y)
  display_laps(x, y)
end

function display_leaderboard(x, y)
  print('position', x+1, y+4, 8)
  print('--------', x+1, y+8, 8)
  for k, v in ipairs (leaderboard) do
    print(v['name'])
    print(v['moves'])
  end
end

function display_pit_message()
 print(pitmessage,p.x-10,p.y-10,14)
end 

function display_laps() 
  local x=c.x*8
  local y=c.y*8

  print('lap', x+40, y+4, 8)
  print('---', x+40, y+8, 8)
  print(player.lap, x+40, y+16, 8)
end 

function display_fuel()
 local x=c.x*8
 local y=c.y*8

 rectfill(x+122,y+30,x+127,y+30-player.fuel,11)
 rect(x+122,y+5,x+127,y+30,13)
end

function out_of_fuel()
 local text="you are out of fuel!"
 if (player.fuel==0) then
  display=true
  set_textwindow(text,8,9,8)
 end
end

function set_textwindow(text,bg,fg,t_colour,x,y)
 textlabel=text
 text_colour=t_colour
 fg_colour=fg
 bg_colour=bg
end

function display_textwindow()
 local x=c.x*8
 local y=c.y*8
 if (display) then  
  rectfill(x+12,y+42,x+122,y+82,bg_colour)
  rectfill(x+10,y+40,x+120,y+80,fg_colour)
  print(textlabel,hcenter(textlabel)+x,y+60,text_colour)
 end
end

function display_scene(title,message,fg_colour,bg_colour)
 rectfill(0,0,screenwidth,screenheight,fg_colour)
 print(title,hcenter(title),vcenter(screenheight),bg_colour)
 print(message,hcenter(message),(vcenter(screenheight))+(screenheight/2),bg_colour)
end

function hcenter(s)
 return (screenwidth/2)-flr((#s*4)/2)
end

function vcenter(s)
 return (screenheight/4)
end

function drawtrack()
  map(0,0,0,0,128,128)
end

function clearmessage()
 if(textdelay<60)then 
  textdelay+=1
 end
 if(textdelay>=60)then
  textdelay=0
  display=false
 end
end

--Bubble Sort for table
function sortleaderboard(leaderboard)
  local itemCount = count(leaderboard)
  local hasChanged
  repeat
    hasChanged = false
    itemCount=itemCount - 1
   for i = 1, itemCount do
    if(leaderboard[i]['moves'] < leaderboard[i+1]['moves']) then
      leaderboard[i], leaderboard[i+1] = leaderboard[i+1], leaderboard[i]
      hasChanged = true
    end
   end
  until hasChanged == false
end


-->8
--player functions
function make_entities()
 p={}
 p.d=0
 p.drive={[0]={64,66},{68,70},{96,98},{100,102}}
 p.t,p.f,p.stp=0,1,4
 p.spd=5
 player={{lx=0,ly=8},{cx=7,cy=5},{nx=0,ny=8},fuel=25,lap=0,name="ratson",moves=0}
 
 o={}
 o.d=0
 o.drive={[0]={72,74},{76,78},{104,106},{108,110}}
 o.t,o.f,o.stp=0,1,4
 o.spd=5
 o.lap=0
 opponent={{lx=0,ly=8},{cx=7,cy=5},{nx=0,ny=8},fuel=10,lap=0,name="mellilot",moves=0}
end

function move_player()
 local new_x,new_y=player[2]["cx"],player[2]["cy"]
 
 if(btnp(‚ùé)) then 
  local text="box box box!"
  textdelay=0
  display=true
  is_pitstop=true
  set_textwindow(text,8,7,8)
 end
 if(btnp(üÖæÔ∏è) and is_pitstop == true) then 
  display=false
  fuel=10
  scene=3
 end
end
-->8
--title screen
function title_draw()
 local title="rat race!"
 local message="press x to start"
 display_scene(title, message,9,8)
end

function title_update()
  if (btnp(‚ùé)) then 
   scene=1
  end
end

-->8
--pitstop
 s={{v=0,c=8},{v=0,c=8},{v=0,c=8},{v=0,c=8}}
 k=0
 s_count=1
 s_finished=false

function pitstop_draw()
 camera_shake()
 local title="pitstop!"
 local message="x to release!"
 display_scene(title,message,7,8)
 generate_sequence()
end

function pitstop_update()
 pit_timer()
 if (btnp(‚ùé)) then
  if (s_finished) then
   is_generated=false
   reset_values()
  end
 end
 if(is_generated) then 
  if(btnp(‚¨ÜÔ∏è))then
   check_sequence("‚¨ÜÔ∏è")
  end
  if(btnp(‚û°Ô∏è))then
   check_sequence("‚û°Ô∏è")
  end
  if(btnp(‚¨áÔ∏è))then
   check_sequence("‚¨áÔ∏è")
  end
  if(btnp(‚¨ÖÔ∏è))then
   check_sequence("‚¨ÖÔ∏è")
  end
 end   
end

function generate_sequence()
 if(is_generated==false) then
  for i=1,4 do
   k=flr(rnd(4))
   if k==0 then
    k="‚¨ÜÔ∏è"
   elseif k==1 then
    k="‚û°Ô∏è"
   elseif k==2 then
    k="‚¨áÔ∏è"
   elseif k==3 then
    k="‚¨ÖÔ∏è"
  end
 s[i]["v"]=k
 end
end
  
 print(s[1]["v"],45,65,s[1]["c"])
 print(s[2]["v"],55,65,s[2]["c"])
 print(s[3]["v"],65,65,s[3]["c"])
 print(s[4]["v"],75,65,s[4]["c"])
 print("timer: "..timer/30,45,25,s[4]["c"])
 is_generated=true
end

function check_sequence(button)
 if(s_finished==false) then
  if (shake<0.1000) then
   if(s[s_count]["v"]==button) then 
    s[s_count]["c"]=9
    s_count+=1
    if(s_count==5) then
     s_finished=true
     s_count=1
    end
   else
    shake+=1
   end
  end
 end
end

function reset_values()
  for i=1,4 do 
    s[i]["c"]=8
  end
  s_count=1 
  scene=1
  s_finished=false
  timer=0
  player["fuel"]+=10
  if (player["fuel"]>=25) then
    player["fuel"] = 25
  end
end

function pit_timer()
 if(s_finished==false) then
  timer+=1
 end
end 
-->8
--finish state
function finish_draw()
 camera()
 local title="finish!"
 local message="x to start again!"
 display_scene(title,message,8,9)
end

function finish_update()
  if (btnp(‚ùé)) then 
   //create method to flush game state
    player.lap=0
    opponent.lap=0
    player.fuel=25
    opponent.fuel=25
    make_entities()
    init_leaderboard()
   scene=0
  end
end

function init_leaderboard() 
  leaderboard = {}
  add(leaderboard, player)
  add(leaderboard, opponent)
end 
__gfx__
00555500000880006777777667777776e888888e677777767700770000007777e888888e0cccccc066d666d600006777000000000000000000000000bbbbbbbb
05777750008ee8006777777667777776e888888e677777767700770000007777e888888ec000000cdddddddd00006777000000000000000000000000bbbbbbbb
5777777508eeee806777777667777776e888888e677777760077007700007777e888888ec000000cd666d66600006777000000000000000000000000bbbbbbbb
577557758ee88ee856777765567777652e8888e25677776500770077000067772e8888e27cccccc7d666d66600006666000000000000000000000000bbbbbbbb
577557758ee88ee8056666500566665002eeee2077666600770077000000000072eeee00c777777cdddddddd00000000000000000000000000000000bbbbbbbb
5777777508eeee80000700000000000000000000770077007700770000000000770077007cccccc766d666d600000000000000000000000000000000bbbbbbbb
05777750008ee80000070000000000000000000000770077007700770000000000770077c777777c66d666d600000000000000000000000000000000bbbbbbbb
005555000008800000070000000000000000000000770077007700770000000000770077ccccccccdddddddd00000000000000000000000000000000bbbbbbbb
00bbbb00000000007777000000000000000000007700770000000000000770007700770003333330000000000000000000000000000000000000000000000000
0b0000b0000000007777000000000000000000007700770000000000000770007700770030000003000000000000000000000000000000000000000000000000
b000000b000000007777000000000000000000000077007700000000000770000000007730000003000000000000000000000000000000000000000000000000
b000000b00000000777600000566665002eeee200566665702eeee200007700002eeee2773333337000000000000000000000000000000000000000000000000
b000000b7776000000000000567777652e8888e2567777652e8888e2000770002e8888e237777773000000000000000000000000000000000000000000000000
b000000b777700000000000067777776e888888e67777776e888888e00077000e888888e33333333000000000000000000000000000000000000000000000000
0b0000b0777700000000000067777776e888888e67777776e888888e00077000e888888e73333337000000000000000000000000000000000000000000000000
00bbbb00777700000000000067777776e888888e67777776e888888e00077000e888888e37777773000000000000000000000000000000000000000000000000
eee2000000002eee333337760000088e3333388e000002e22e8333332e2000008888e00033333333000000000000000000000000000000000000000000000000
888e20000002e888333377760000888e3333888e00002e8ee8883333e8e200008888e00033333333000000000000000000000000000000000000000000000000
8888e000000e8888333777760008888e3338888e0002e88888888333888e20008888e00033333333000000000000000000000000000000000000000000000000
8888e000000e8888337777760088888e3388888e002e8888e88888338888e200888e200033333333000000000000000000000000000000000000000000000000
8888e000000e8888377777760888888e388888e202e888882e88888388888e20eee2000033333333000000000000000000000000000000000000000000000000
8888e000000e888877777766888888ee88888e202e88888302e88888388888e20000000033333333000000000000000000000000000000000000000000000000
888e20000002e8887777766588888ee28888e200e8888833002e888e3388888e0000000033333333000000000000000000000000000000000000000000000000
eee2000000002eee66666650eeeeee20ee8e20002e8883330002eee233388ee20000000033333333000000000000000000000000000000000000000000000000
66650000000056660000000000000000333337650000056556733333565000003333333333777733333333330000000000000000000000000000000000000000
77765000000567770000000000000000333377760000567667773333676500003333b3b333799733333333330000000000000000000000000000000000000000
777760000006777700000000000000003337777600056776777773337776500033333b333379973333b333330000000000000000000000000000000000000000
777760000006777700002eee00005666337777760056777767777733777765003333333333777733333333330000000000000000000000000000000000000000
77776000000677770002e8880005677737777765056777775677777377777650333333333333b3333333b3330000000000000000000000000000000000000000
7777600000067777000e88880006777777777650567777730567777736777765333333333bb3bb33333333330000000000000000000000000000000000000000
7776500000056777000e888800067777677765006777773300567776336777763b3b3333333b3333333333330000000000000000000000000000000000000000
6665000000005666000e8888000677775676500056666333000566653337766533b33333333b3333333333330000000000000000000000000000000000000000
45554444444455544555444444445554455544444444555445554444444455544999444444449994499944444444499449994444444499944999444444449994
56665444444566655666544444456665566654444445666556665444444566659aaa94444449aaa99aaa94444449aaa99aaa94444449aaa99aaa94444449aaa9
56776544445677655677654444567765567765444456776556776544445677659a77a944449a77a99a77a944449a77a99a77a944449a77a99a77a944449a77a9
56776555556777655677655555677765567765555567776556776555556777659a77a99999a777a99a77a99999a777a99a77a99999a777a99a77a99999a777a9
56675666666666545667566666666654566756666666665456675666666666549aa79aaaaaaaaa949aa79aaaaaaaaa949aa79aaaaaaaaa949aa79aaaaaaaaa94
45556666666555444555666666655544455566666665554445556666666555444999aaa9aaa999444999aaaa9aa999444999aaa9aaa999444999aaaa9aa99944
444506660654444444406660665444444445666606604444444566606605444444490aaa0a9444444440aaa0aa9444444449aaaa0aa044444449aaa0aa094444
4456666666544444445666666654444444456666666654444445666666665444449aaaaaaa944444449aaaaaaa9444444449aaaaaaaa94444449aaaaaaaa9444
4f6666666554444f4f666666655444f4f445665666666f444f45665666666f444faaaaaaa994444f4faaaaaaa99444f4f449aa9aaaaaaf444f49aa9aaaaaaf44
445555555654444f445555555654444ff445566555555444f445566555555444449999999a94444f449999999a94444ff4499aa999999444f4499aa999999444
444457776654444f44445777665444f44f44566667544444f44456666754444444449777aa94444f44449777aa9444f44f449aaaa7944444f4449aaaa7944444
444457776665444f44445777666544f44f45666677754444f44566667775444444449777aaa9444f44449777aaa944f44f49aaaa77794444f449aaaa77794444
444f57777f65544f444f57777f6554ff4f5666f77775f444f45666f77775f444444f97777fa9944f444f97777fa994ff4f9aaaf77779f444f49aaaf77779f444
444f57777f66544f444f57777f66544f4f5666f77775f444f45666f77775f444444f97777faa944f444f97777faa944f4f9aaaf77779f444f49aaaf77779f444
444457777666544f444457777666544ff456666777754444f456666777754444444497777aaa944f444497777aaa944ff49aaaa777794444f49aaaa777794444
444ff5555ff54ff4444ff5555ff54ff44f455ff5555ff4444f455ff5555ff444444ff9999ff94ff4444ff9999ff94ff44f499ff9999ff4444f499ff9999ff444
44444444445555444444444444555544455544444455554444555544445555444499994444999944449999444499994449994444449999444499994444999944
4455555445566554445555544556655445665554456666544556665445566654449aa994499aa994449aa994499aa99449aa994449aaaa94499aaa94499aaa94
456666544566665445566654456666545676655445677654456776544567765449aaaa9449aaaa94499aaa9449aaaa949a7aa99449a77a9449a77a9449a77a94
456666544566665445666654456666545677655445677654456776544567765449aaaa9449aaaa9449aaaa9449aaaa949a77a99449a77a9449a77a9449a77a94
45666665566666f44566f665566666545566655555567654456765555556665449aaaaa99aaaaaf449aafaa99aaaaa9499aaa999999a7a9449a7a999999aaa94
45666666666655f44566f666666655444566566666656554456656666665655449aaaaaaaaaa99f449aafaaaaaaa994449aa9aaaaaa9a99449aa9aaaaaa9a994
44566666666654f44456ff6666665444445566666666544f4455666666665444449aaaaaaaaa94f4449affaaaaaa94444499a99999aa944f4499aa99999a9444
44566666666654f444566f6666665444444560666066544ff445660666065444449aaaaaaaaa94f4449aafaaaaaa94444449a0aaa0aa944ff449aa0aaa0a9444
4445666666655ff4444566f6666554444445666f6666544fff456666f66654444449aaaaaaa99ff44449aafaaaa994444449aaafaaaa944fff49aaaafaaa9444
444456666665ff44444456ff66654444444456666665444f4f4456666665444444449aaaaaa9ff4444449affaaa9444444449aaaaaa9444f4f449aaaaaa94444
4444566666fff4444444566f66654444444455555555444fff4455555555444444449aaaaafff44444449aafaaa94444444499999999444fff44999999994444
444556666ff554444445566f66655444444556666665544ff44556666665544444499aaaaff9944444499aafaaa9944444499aaaaaa9944ff4499aaaaaa99444
444566666f6654444445666f66665444444566777766544fff456677776654444449aaaaafaa94444449aaafaaaa94444449aa7777aa944fff49aa7777aa9444
444566666f6654444445666f666654444445ff7777ff55ff4f45ff7777ff55444449aaaaafaa94444449aaafaaaa94444449ff7777ff99ff4f49ff7777ff9944
44456666ff6654444445666ff666544444456677776655f44f456677776655444449aaaaffaa94444449aaaffaaa94444449aa7777aa99f44f49aa7777aa9944
44f56666f6665f4444f56666f6665f4444ff667777ff554444f5ff777766ff4444f9aaaafaaa9f4444f9aaaafaaa9f4444ffaa7777ff994444f9ff7777aaff44
77777777777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777777777777770000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
eee0e0e0ee00eee0eee0eee0eee00000eee0eee0eee00ee0eee00000e000eee0ee00eee00000eee00000eee0eee0eee00000ee00000000000000000000000000
e0e0e0e0e0e00e000e00eee0e0000000e000e0e0e0e0e0e0e0e00000e0000e00e0e0e000000000e000000e00e0e0e0e000000e00000000000000000000000000
ee00e0e0e0e00e000e00e0e0ee000000ee00ee00ee00e0e0ee000000e0000e00e0e0ee00000000e000000e00eee0ee0000000e00000000000000000000000000
e0e0e0e0e0e00e000e00e0e0e0000000e000e0e0e0e0e0e0e0e00000e0000e00e0e0e000000000e000000e00e0e0e0e000000e00000000000000000000000000
e0e00ee0e0e00e00eee0e0e0eee00000eee0e0e0e0e0ee00e0e00000eee0eee0e0e0eee0000000e000000e00e0e0eee00000eee0000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000770000070700000777070007770707077707770770077000770770070700770707070700770000077007770000000000000000000000000000000000000
00007000000070707770707070007070707070007070700007000070700070707000707070700070000007007070000000000000000000000000000000000000
00007000000007000000777070007770777077007700700007000070700000007000070000000070777007007070000000000000000000000000000000000000
00007000000070707770700070007070007070007070700007000070700000007000707000000070000007007070000000000000000000000000000000000000
00000770070070700000700077707070777077707070770077700770770000000770707000000770000077707770000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66606660666066606660666066600000666006600000666066606660666006606660666000006660666066606660606066606660666066600660000006606600
60600600060060006660606006000000060060600000606060006060600060606060666000006060606006000600606066606000060006006000000060606060
66600600060066006060666006000000060060600000666066006600660060606600606000006660660006000600666060606600060006006000000060606060
60600600060060006060600006000000060060600000600060006060600060606060606000006060606006000600606060606000060006006000000060606060
60600600060066606060600006000000060066000000600066606060600066006060606000006060606066600600606060606660060066600660000066006060
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006660666066606000660000000600066060600600000006006660000066006660600000006060666060006060666006000000000000000000000000000000
00006000060060006000606000006000600060606000000060006060000060600600600000006060606060006060600000600000000000000000000000000000
00006600060066006000606000000000600006000000000060006660000060600600600000006060666060006060660000600000000000000000000000000000
00006000060060006000606000000000600060600000000060006060000060600600600000006660606060006060600000600000000000000000000000000000
00006000666066606660666000000000066060600000000006006060000060606660666000000600606066600660666006000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddd0dd0000000dd0ddd0ddd0ddd0ddd0ddd00000ddd00dd0d000d0000dd0d0d00000d000ddd0dd00ddd00000ddd000000d00ddd0ddd0ddd00000dd000d000000
0d00d0d00000d000d0d0ddd0d000d0d0d0d00000d000d0d0d000d000d0d0d0d00000d0000d00d0d0d000000000d00000d0000d00d0d0d0d000000d0000d00000
0d00d0d00000d000ddd0d0d0dd00dd00ddd00000dd00d0d0d000d000d0d0d0d00000d0000d00d0d0dd00000000d00000d0000d00ddd0dd0000000d0000d00000
0d00d0d00000d000d0d0d0d0d000d0d0d0d00000d000d0d0d000d000d0d0ddd00000d0000d00d0d0d000000000d00000d0000d00d0d0d0d000000d0000d00000
ddd0d0d000000dd0d0d0d0d0ddd0d0d0d0d0ddd0d000dd00ddd0ddd0dd00ddd00000ddd0ddd0d0d0ddd0000000d000000d000d00d0d0ddd00000ddd00d000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddd0dd0000000000dd00ddd0ddd0d0d00000d000ddd0dd00ddd00000ddd0d00000000d00ddd0ddd0ddd00000ddd00d0000000000000000000000000000000000
0d00d0d000000000d0d0d0d0d0d0d0d00000d0000d00d0d0d000000000d0d0000000d0000d00d0d0d0d00000d0d000d000000000000000000000000000000000
0d00d0d000000000d0d0dd00ddd0d0d00000d0000d00d0d0dd0000000dd0ddd00000d0000d00ddd0dd000000d0d000d000000000000000000000000000000000
0d00d0d000000000d0d0d0d0d0d0ddd00000d0000d00d0d0d000000000d0d0d00000d0000d00d0d0d0d00000d0d000d000000000000000000000000000000000
ddd0d0d00000ddd0ddd0d0d0d0d0ddd00000ddd0ddd0d0d0ddd00000ddd0ddd000000d000d00d0d0ddd00000ddd00d0000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
ddd0ddd00000d000ddd0dd00ddd00000ddd000000d00ddd0ddd0ddd00000ddd00d00000000000000000000000000000000000000000000000000000000000000
d0d00d000000d0000d00d0d0d0000000d0d00000d0000d00d0d0d0d00000d0d000d0000000000000000000000000000000000000000000000000000000000000
ddd00d000000d0000d00d0d0dd000000d0d00000d0000d00ddd0dd000000d0d000d0000000000000000000000000000000000000000000000000000000000000
d0d00d000000d0000d00d0d0d0000000d0d00000d0000d00d0d0d0d00000d0d000d0000000000000000000000000000000000000000000000000000000000000
d0d00d000000ddd0ddd0d0d0ddd00000ddd000000d000d00d0d0ddd00000ddd00d00000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000777088880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000007088880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700000007088880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
07000000007088880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
70000000007088880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__gff__
0000030101010201010001040000000004010101010101010108000000000000010101010101010101010301030000000101010101010101000102010200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003838383838383838383838383838383838383838383838000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003822030303050303030303030303030303030303363838000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830000000060000000000000000000000000000003638000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003313151313131313131313131313131311003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003129383838383838382938383838383830003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003129383938292929293829382929293830003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003129293838293838292929292929293830003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003129292929292929292929293829383830003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000383000312929383a3a3a29293838383829383830003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003138383829292929382929393829292930003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003138383829292929383829383838293830003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830001702030302030302030302030302030317003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830001700000000000000000000000000000017193138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830001713131313131313131313131313131317003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000003830003138383838383838383838383838383830003138000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002937000036292929292929292929292929293400003529000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929370000030303030303030303030303030000352929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929293700000000000000000000000000000035292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929292937131313131313131313131313133529292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000002929292929292929292929292929292929292929292929000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000700001201000000070000f0000b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
